<p-toast></p-toast>
<div *ngIf="isAuthenticated">
  <p-menubar [model]="items">
    <div>
      <button pButton icon="fa fa-home" style="margin-left:.25em" (click)="goToStats()"></button>
      <button pButton label="Logout" icon="fa fa-sign-out" style="margin-left:.25em" (click)="logout()"></button>
      <button pButton icon="fa fa-gear" style="margin-left:.25em" (click)="showSettings()"></button>
    </div>
  </p-menubar>
  <p-sidebar [(visible)]="settingsVisible" position="right">
    <app-settings></app-settings>
  </p-sidebar>
  <router-outlet></router-outlet>
</div>
<div style="margin:200px" *ngIf="!isAuthenticated">
  <div class="p-grid p-justify-center p-align-center" style="margin:50px">
    <div>
      <span id="appname" class="p-col-12 ui-widget" style="font-size:300%;justify-content: center;display: flex;">Commander Login</span>
      <div class="p-col-12 ui-inputgroup">
        <span class="ui-inputgroup-addon">
          <p-checkbox label="Custom API" (onChange)="toggleCustomAPI($event)" binary="true" [(ngModel)]="customAPIEnabled"></p-checkbox>
        </span>
        <input #API type="text" pInputText placeholder="{{defaultAPI}}" [disabled]="!customAPIEnabled" [(ngModel)]="customAPI">
      </div>
      <p-card class="p-col-4">
        For more information, on how to find your Auth Token please visit this <a href="https://www.notion.so/lbry/Desktop-Access-Token-d427ccf268534f82a11adc94a94a377e" target="_blank">kb article</a>.
      </p-card>
    </div>
  </div>
  <div class="p-grid p-justify-center p-align-center" >
    <input class="p-col-4" type="password" pInputText pPassword placeholder="Auth Token" style="margin:10px" [(ngModel)]="token">
    <button class="p-col-2" pButton label="Sign In" icon="fa ga-sign-out" style="margin:10px" (click)="login()"></button>
  </div >
</div>

